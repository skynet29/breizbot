$$.control.registerControl("rootPage",{template:'<div bn-control="breizbot.searchbar" \n\tbn-event="searchbarsubmit: onSearch"\n\tdata-placeholder="What are you looking for ?" \n\t></div>\n<div class="results w3-light-grey">\n\t<div bn-each="results" bn-event="contextmenuchange.item: onContextMenu">\n\t\t<div class="w3-card-2 item" \n\t\t\tbn-control="brainjs.contextmenu" \n\t\t\tbn-data="{\n\t\t\t\titems: {\n\t\t\t\t\tadd: {name: \'Add to favorites\', icon: \'fas fa-star\'}\n\t\t\t\t}\n\t\t\t}">\n\t\t\t<div class="link">\n\t\t\t\t<a bn-attr="{href: $scope.$i.url}" bn-html="$scope.$i.title" class="link" target="_blank"></a>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t<div bn-html="$scope.$i.source" class="source"></div>\t\t\n\t\t\t<div bn-html="$scope.$i.desc" class="desc"></div>\t\n\t\t</div>\n\t</div>\n\t\n</div>\n',deps:["breizbot.http"],init:function(t,n){const e=$$.viewController(t,{data:{url:"about:blank",results:[],showClear:!1},events:{onContextMenu:async function(t,a){const s=$(this).index(),{title:o,url:i}=e.model.results[s],l=await $$.ui.showPrompt({title:"Add link",label:"Name",value:o.replace(/<\/?b>/g,"")});console.log("name",l),null!=l&&await n.post("/addFavorite",{name:l,link:i})},onSearch:async function(t,a){const s=a.value;if(s.startsWith("https://")||s.startsWith("http://"))e.setData({results:[],url:s});else{const t=await n.post("/search",{query:s});e.setData({results:t,url:"about:blank"})}}}})}});