$$.control.registerControl("rootPage",{template:'<table class="w3-table" bn-event="click.w3-btn: onClick">\n\t<tr>\n\t\t<td colspan="4">\n\t\t\t<input type="text" class="result" readonly="" bn-val="result" bn-bind="result">\n\t\t</td>\n\t</tr>\n\t<tr>\n\t\t<td><button class="clear">C</button></td>\n\t\t<td></td>\n\t\t<td></td>\n\t\t<td><button data-ope="/"><i class="fa fa-divide"></i></button></td>\n\t</tr>\n\n\t<tr>\n\t\t<td><button>1</button></td>\n\t\t<td><button>2</button></td>\n\t\t<td><button>3</button></td>\n\t\t<td><button data-ope="*"><i class="fa fa-times"></i></button></td>\n\t</tr>\n\n\t<tr>\n\t\t<td><button>4</button></td>\n\t\t<td><button>5</button></td>\n\t\t<td><button>6</button></td>\n\t\t<td><button data-ope="-"><i class="fa fa-minus"></i></button></td>\n\t</tr>\n\n\t<tr>\n\t\t<td><button>7</button></td>\n\t\t<td><button>8</button></td>\n\t\t<td><button>9</button></td>\n\t\t<td><button data-ope="+"><i class="fa fa-plus"></i></button></td>\n\t</tr>\n\n\t<tr>\n\t\t<td><button>.</button></td>\n\t\t<td><button>0</button></td>\n\t\t<td colspan="2"><button class="equals"><i class="fa fa-equals"></i></button></td>\n\t</tr>\n\n</table>',init:function(t){t.find("button").addClass("w3-btn w3-blue w3-block"),t.find("button.equals").removeClass("w3-blue").addClass("w3-green"),t.find("button.clear").removeClass("w3-blue").addClass("w3-red"),$(document).on("keydown",t=>{l(t.key)});let n=!0;const e=$$.viewController(t,{data:{result:""},events:{onClick:function(t){let n=$(this).data("ope");null==n&&(n=$(this).text()),$(this).hasClass("clear")&&(n="Delete"),$(this).hasClass("equals")&&(n="Enter"),l(n)}}});function l(t){if("Delete"==t)e.setData({result:""}),n=!0;else if("Enter"==t){const t=$$.util.safeEval(e.model.result);e.setData({result:t}),n=!0}else"+-*/".includes(t)?(e.model.result+=t,n=!1,e.update()):"1234567890.".includes(t)&&(n?e.model.result="."==t?"0.":t:e.model.result+=t,n=!1,e.update());"Enter"==t?e.scope.result.scrollLeft(0):e.scope.result.scrollLeft(1e4)}}});