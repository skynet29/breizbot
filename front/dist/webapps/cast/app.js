$$.control.registerControl("rootPage",{template:'<video bn-attr="{src: url}" controls="" controlsList=nodownload></video>',deps:["breizbot.pager"],props:{},init:function(n,o){const e=$$.viewController(n,{data:{logs:["toto"],url:"#",type:"video"},events:{}});function t(n){console.log("addConnection",n.state),n.send(JSON.stringify({type:"ready"})),n.addEventListener("message",function(n){const o=JSON.parse(n.data);switch(console.log("Message",o),o.type){case"url":e.setData({url:o.url})}}),n.addEventListener("connect",function(n){console.log("connected")}),n.addEventListener("close",function(n){console.log("Connection closed!")})}navigator.presentation.receiver.connectionList.then(n=>{console.log(n.connections),n.connections.map(n=>t(n)),n.addEventListener("connectionavailable",function(n){console.log("connectionavailable"),t(n.connection)})})}});