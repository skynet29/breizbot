$$.control.registerControl("rootPage",{template:'<video bn-attr="{src: url}" bn-bind="video" bn-event="playing: onPlaying, pause: onPaused"></video>',deps:["breizbot.pager"],props:{},init:function(e,n){let o=null;const t=$$.viewController(e,{data:{url:"#"},events:{onPlaying:function(){c({type:"event",name:"playing"})},onPaused:function(){c({type:"event",name:"paused"})}}}),a=t.scope.video.get(0);function c(e){o.send(JSON.stringify(e))}function i(e){console.log("addConnection",e.state),o=e,c({type:"ready"}),e.addEventListener("message",function(e){const n=JSON.parse(e.data);switch(console.log("Message",n),n.type){case"url":t.setData({url:n.url});break;case"volume":a.volume=n.volume;break;case"play":a.play();break;case"pause":a.pause()}}),e.addEventListener("connect",function(e){console.log("connected")}),e.addEventListener("close",function(e){console.log("Connection closed!")})}navigator.presentation.receiver.connectionList.then(e=>{console.log(e.connections),e.connections.map(e=>i(e)),e.addEventListener("connectionavailable",function(e){console.log("connectionavailable"),i(e.connection)})})}});