$$.control.registerControl("rootPage",{template:'<div class="top">\n    <div>\n        <button class="w3-button w3-blue" bn-event="click: onLoad" data-audio="audio1">Load</button>\n        <div bn-control="audioplayer" bn-data="options" bn-iface="audio1"></div>\n    </div>\n    <div>\n        <button class="w3-button w3-blue" bn-event="click: onLoad" data-audio="audio2">Load</button>\n        <div bn-control="audioplayer" bn-data="options" bn-iface="audio2"></div>\n    </div>\n</div>\n<div class="bottom">\n    <div class="balance">\n        <label>Left</label>\n        <div bn-control="brainjs.slider" bn-data="{min: 0, max: 1, step: 0.01}" bn-event="input: onSliderChange"></div>\n        <label>Right</label>\n    </div>\n    \n</div>\n<div bn-control="breizbot.filelist" bn-data="{selectionEnabled: true, filterExtension: \'mp3\', getMP3Info: true}" bn-iface="filelist"></div>\n',deps:["breizbot.pager"],props:{},init:function(n,t){const e=$$.viewController(n,{data:{},events:{onSliderChange:function(){const n=$(this).getValue();u.gain.value=Math.cos(.5*(1-n)*Math.PI),d.gain.value=Math.cos(.5*n*Math.PI)},onLoad:function(){const n=$(this).data("audio"),t=e.scope.filelist.getSelFile();t&&e.scope[n].setInfo(t)}}}),i=e.scope.audio1.getAudioElement(),a=e.scope.audio2.getAudioElement(),o=new AudioContext,l=o.createMediaElementSource(i),s=o.createMediaElementSource(a),d=o.createGain(),u=o.createGain();d.gain.value=1,u.gain.value=0,l.connect(d),s.connect(u),d.connect(o.destination),u.connect(o.destination)}}),function(){function n(n){const t=new Date(1e3*n);return(t.getMinutes()+t.getSeconds()/100).toFixed(2).replace(".",":")}$$.control.registerControl("audioplayer",{template:'\n<div class="info">\n\t<div class="title" bn-show="!title">\n\t\t<strong>FileName:</strong>\n\t\t<span bn-text="name"></span>\n\t</div>\n\t<div class="title" bn-show="title">\n\t\t<strong>Title:</strong>\n\t\t<span bn-text="title"></span>\n\t</div>\n\t<div class="title" bn-show="artist">\n\t\t<strong>Artist:</strong>\n\t\t<span bn-text="artist"></span>\n\t</div>\n</div>\n<div class="toolbar">\n\t<div></div>\n\n\t<button bn-show="!playing" bn-event="click: onPlay" class="w3-btn w3-blue" title="Play" bn-icon="fa fa-lg fa-play">\n\t</button>\n\n\t<button bn-show="playing" bn-event="click: onPause" class="w3-btn w3-blue" title="Pause" bn-icon="fa fa-lg fa-pause">\n\t</button>\n\n\t<div class="toolbar2">\n\t\t<i class="fas fa-lg fa-volume-down w3-text-blue volume"></i>\n\t\t<div bn-control="brainjs.slider" bn-data="{min: 0, max:1, step: 0.1, orientation: \'vertical\'}" bn-event="input: onVolumeChange"\n\t\t\tbn-val="volume" class="volulmeSlider"></div>\n\t</div>\n\t\n</div>\n\n\n\n<div class="slider">\n\t<span bn-text="getTimeInfo"></span>\n\t<div bn-control="brainjs.slider" bn-data="{max: duration}" bn-event="input: onSliderChange" bn-val="curTime">\n\t</div>\n\n</div>\n\n<audio bn-attr="{src: url}" bn-bind="audio"\n\tbn-event="canplay: onLoad, timeupdate: onTimeUpdate, playing: onPlaying, pause: onPaused, ended: onEnded">\n</audio>',deps:["breizbot.pager"],props:{},init:function(t,e){console.log("props",this.props);const i=$$.viewController(t,{data:{url:"#",name:"",title:"",artist:"",volume:0,duration:0,curTime:0,playing:!1,getTimeInfo:function(){return`${n(this.curTime)} / ${n(this.duration)}`}},events:{onVolumeChange:function(n,t){a.volume=t},onLoad:function(){i.setData({duration:Math.floor(a.duration),volume:a.volume})},onTimeUpdate:function(){i.setData({curTime:this.currentTime})},onPlaying:function(){i.setData({playing:!0})},onPaused:function(){i.setData({playing:!1})},onPlay:function(){a.play()},onPause:function(){a.pause()},onSliderChange:function(n,t){a.currentTime=t}}}),a=i.scope.audio.get(0);this.setInfo=function(n){const{mp3:t,name:e,url:a}=n,{artist:o,title:l}=t;i.setData({name:e,url:a,artist:o,title:l})},this.getAudioElement=function(){return a}}})}();