$$.control.registerControl("rootPage",{template:'<div bn-control="breizbot.files" \n\tstyle="height: 100%"\n\tbn-event="fileclick: onFileClick"\n\tbn-iface="files"\n\tdata-show-toolbar="true"\n\t></div>',deps:["breizbot.pager"],init:function(e,t){const o=$$.viewController(e,{data:{},events:{onFileClick:function(e,n){const{fileName:i,rootDir:l}=n,r=l+i;null!=$$.util.getFileType(i)&&t.pushPage("viewerPage",{title:i,props:{fullName:r},onReturn:function(e){"reload"===e&&o.scope.files.update()}})}}})}}),$$.control.registerControl("viewerPage",{deps:["breizbot.files","breizbot.pager"],template:'<div \n\tbn-control="breizbot.viewer" \n\tbn-data="{type, url}" \n\tstyle="height: 100%" \n\tbn-iface="viewer">\n\t\t\n\t</div>',props:{fullName:""},buttons:[{name:"del",icon:"fa fa-trash"}],init:function(e,t,o){const{fullName:n}=this.props,i=$$.viewController(e,{data:{type:$$.util.getFileType(n),url:t.fileUrl(n)}});this.onAction=function(e){console.log("onAction",e),"del"==e&&i.scope.viewer.remove(n,function(){o.popPage("reload")})}}});