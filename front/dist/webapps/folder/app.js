$$.control.registerControl("rootPage",{template:'<div bn-control="breizbot.files" \n\tstyle="height: 100%"\n\tbn-event="fileclick: onFileClick"\n\tbn-iface="files"\n\tdata-show-thumbnail="true"\n\tdata-show-toolbar="true"\n\t></div>',props:{$pager:null},init:function(e){const{$pager:t}=this.props,n=$$.viewController(e,{data:{},events:{onFileClick:function(e,n){const{fileName:o,rootDir:i}=n,l=i+o;null!=$$.util.getFileType(o)&&t.pushPage("viewerPage",{title:o,props:{fullName:l}})}}});this.onReturn=function(e){console.log("onReturn",e),"reload"===e&&n.scope.files.update()}}}),$$.control.registerControl("viewerPage",{deps:["breizbot.files"],template:'<div \n\tbn-control="breizbot.viewer" \n\tbn-data="{type, url}" \n\tstyle="height: 100%" \n\tbn-iface="viewer">\n\t\t\n\t</div>',props:{$pager:null,fullName:""},buttons:[{name:"del",icon:"fa fa-trash"}],init:function(e,t){const{$pager:n,fullName:o}=this.props,i=$$.viewController(e,{data:{type:$$.util.getFileType(o),url:t.fileUrl(o)}});this.onAction=function(e){console.log("onAction",e),"del"==e&&i.scope.viewer.remove(o,function(){n.popPage("reload")})}}});