$$.control.registerControl("rootPage",{template:'<div bn-control="breizbot.files" \n\tstyle="height: 100%"\n\tbn-event="fileclick: onFileClick"\n\tbn-iface="files"\n\tdata-show-thumbnail="true"\n\tdata-show-toolbar="true"\n\t></div>',props:{$pager:null},init:function(e){const{$pager:t}=this.props,o=$$.viewController(e,{data:{},events:{onFileClick:function(e,o){console.log("onFileClick",o);const{fileName:n,rootDir:l}=o,i=l+n;null!=$$.util.getFileType(n)&&t.pushPage("viewerPage",{title:n,props:{fullName:i}})}}});this.onReturn=function(e){console.log("onReturn",e),"reload"===e&&o.scope.files.update()}}}),$$.control.registerControl("viewerPage",{deps:["breizbot.files"],template:'<div \n\tbn-control="breizbot.viewer" \n\tbn-data="{type, url}" \n\tstyle="height: 100%" \n\tbn-iface="viewer">\n\t\t\n\t</div>',props:{$pager:null,fullName:""},buttons:[{name:"del",icon:"fa fa-trash"}],init:function(e,t){const{$pager:o,fullName:n}=this.props,l=$$.viewController(e,{data:{type:$$.util.getFileType(n),url:t.fileUrl(n)}});this.onAction=function(e){console.log("onAction",e),"del"==e&&l.scope.viewer.remove(n,function(){o.popPage("reload")})}}});