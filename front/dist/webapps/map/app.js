$$.control.registerControl("rootPage",{deps:["breizbot.broker","breizbot.appData"],template:'<div bn-control="brainjs.map" \n\tstyle="height: 100%"\n\tbn-iface="map"\n\tbn-data="{\n\t\tcenter,\n\t\tzoom,\n\t\tscale: true,\n\t\tcoordinates: true\n\t}"\n\t></div>',init:function(t,e,o){let{zoom:a,center:n}=o.getData();const p=$$.viewController(t,{data:{center:n||{lat:48.39,lng:-4.486},zoom:a||13}});e.register("homebox.map.updateShape.*",t=>{const e=t.topic.split(".").pop(),o=t.data;if(null!=o)try{p.scope.map.updateShape(e,o)}catch(t){p.scope.map.addShape(e,o)}else p.scope.map.removeShape(e)}),this.exitApp=function(){console.log("Exit map app");const{map:t}=p.scope;return o.saveData({zoom:t.getZoom(),center:t.getCenter()})}}});