$$.control.registerControl("rootPage",{template:'<div bn-control="breizbot.media" \n\tstyle="height: 100%"\n\tbn-event="fileclick: onFileClick"\n\tbn-iface="files"\n\t></div>',deps:["breizbot.media"],props:{$pager:null},init:function(o,e){const{$pager:t}=this.props,n=$$.viewController(o,{data:{},events:{onFileClick:function(o,n){const{fileName:i,rootDir:r,driveName:l}=n,s=r+i,a=e.fileUrl(l,s);(i.endsWith(".ogg")||i.endsWith(".mp3"))&&t.pushPage("soundPage",{title:i,props:{url:a}}),i.endsWith(".mp4")&&t.pushPage("videoPage",{title:i,props:{url:a}})}}});this.onReturn=function(o){console.log("onReturn",o),"reload"===o&&n.scope.files.update()}}}),$$.control.registerControl("soundPage",{template:'<div>\n\t<audio bn-attr="{src: url}" controls="" controlsList=nodownload bn-bind="audio"></audio>\n</div>',props:{$pager:null,url:""},init:function(o){const{$pager:e,url:t}=this.props,n=$$.viewController(o,{data:{url:t}});this.dispose=function(){n.scope.audio.get(0).pause(),n.scope.audio.removeAttr("src")}}}),$$.control.registerControl("videoPage",{template:'<div>\n\t<video bn-attr="{src: url}" controls="" controlsList=nodownload bn-bind="video"></video>\n</div>',props:{$pager:null,url:""},init:function(o){const{$pager:e,url:t}=this.props,n=$$.viewController(o,{data:{url:t}});this.dispose=function(){n.scope.video.get(0).pause(),n.scope.video.removeAttr("src")}}});