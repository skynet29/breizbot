$$.control.registerControl("rootPage",{template:'<div class="toolbar">\n\t<button class="w3-button w3-blue" bn-event="click: onOpenFile"><i class="fa fa-folder-open"></i></button>\n\t<div bn-text="title"></div>\n\t<div class="pages" bn-show="title != \'\'">\n\t\t<div>\n\t\t\t<button class="w3-button" title="zoomOut" bn-event="click: onZoomOut">\n\t\t\t\t<i class="fa fa-search-minus"></i>\n\t\t\t</button>\t\n\n\t\t\t<button class="w3-button" title="zoomIn" bn-event="click: onZoomIn">\n\t\t\t\t<i class="fa fa-search-plus"></i>\n\t\t\t</button>\t\n\n\t\t\t<button class="w3-button" title="previous page" bn-event="click: onPrevPage">\n\t\t\t\t<i class="fa fa-angle-left"></i>\n\t\t\t</button>\t\n\n\t\t\t<button class="w3-button" title="next page" bn-event="click: onNextPage">\n\t\t\t\t<i class="fa fa-angle-right"></i>\n\t\t\t</button>\t\t\t\n\t\t</div>\n\t\t<div>\n\t\t\tPages: <span bn-text="currentPage"></span> / <span bn-text="numPages"></span>\t\t\n\t\t</div>\n\t</div>\n</div>\n\t\n<div class="content">\n\t<div bn-control="brainjs.pdf" \n\t\tbn-data="{worker: \'/brainjs/pdf/worker.js\'}"\n\t\tbn-iface="pdf"\n\t\t \n\t></div>\t\t\n</div>',deps:["breizbot.files"],props:{$pager:null},init:function(t,n){const{$pager:e}=this.props;let o=1;const s=$$.viewController(t,{data:{numPages:0,title:"",currentPage:1},events:{onOpenFile:function(t){console.log("onOpenFile"),e.pushPage("breizbot.files",{title:"Open File",props:{filterExtension:".pdf"}})},onNextPage:function(t){console.log("onNextPage"),s.scope.pdf.nextPage().then(t=>{s.setData({currentPage:t})})},onPrevPage:function(t){console.log("onPrevPage"),s.scope.pdf.prevPage().then(t=>{s.setData({currentPage:t})})},onZoomIn:function(t){console.log("onZoomIn"),o+=.5,s.scope.pdf.setZoomLevel(o)},onZoomOut:function(t){console.log("onZoomOut"),o>1&&(o-=.5,s.scope.pdf.setZoomLevel(o))}}});this.onReturn=function(t){if(console.log("onReturn",t),null==t)return;const e=t.rootDir+t.fileName,o=n.fileUrl(e),{pdf:l}=s.scope;l.openFile(o).then(n=>{console.log("file loaded"),s.setData({title:t.fileName,numPages:n})})}}});