$$.control.registerControl("rootPage",{template:'<div>\n    <h2>Alexa</h2>\n    <div class="w3-card-2 w3-padding">\n        <button class="w3-button w3-blue" bn-event="click: onLinkClicked">Link with Alexa</button>\n    </div>\n</div>',deps:["breizbot.broker","breizbot.users"],init:function(e,o,n){let t=null;$$.viewController(e,{data:{},events:{onLinkClicked:function(){console.log("onLinkClicked");const e=`https://${window.location.host}/alexa/authresponse`,o=$$.util.getUrlParams("https://www.amazon.com/ap/oa",{client_id:"amzn1.application-oa2-client.0362e10e33584617919120e592423223",scope:"profile:user_id",response_type:"token",redirect_uri:e,state:t});window.open(o)}}});o.on("ready",e=>{console.log("msg",e),t=e.clientId}),o.onTopic("breizbot.alexa.auth",async e=>{console.log("msg",e);const{access_token:o}=e.data;n.computeAlexaUserId(o)})}});