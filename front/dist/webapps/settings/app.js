$$.control.registerControl("rootPage",{template:'<div>\n    <section>\n        <h2>Password</h2>\n        <div>\n            <button class="w3-button w3-blue" bn-event="click: onChangePwd">Change Password</button>\n        </div>    \n    </section>\n\n    <section>\n        <h2>Music</h2>\n        <div>\n            <button class="w3-button w3-blue" bn-event="click: onGenerateMusicDb">Generate Database</button>\n        </div>    \n    </section>\n\n    <section>\n        <form bn-event="submit: onApply" bn-form="settings">\n            <h2>Alexa Birthday Reminder</h2>\n            <div bn-control="brainjs.inputgroup">\n                <label>Schedule Time</label>\n                <input name="birthdayScheduleTime" bn-control="brainjs.inputtime" \n                    bn-data="{timePattern: [\'h\', \'m\']}">\n            </div>\n            <h2>Images</h2>\n            <div class="images">\n                <label>Automatically resize image</label>\n                <div bn-control="brainjs.flipswitch" name="autoImageResizing"></div>                   \n            </div>\n            <button class="w3-button w3-blue submit" type="submit">Apply</button>\n        </form>    \n    </section>\n\n</div>',deps:["breizbot.users","breizbot.songs","breizbot.params"],props:{birthdayScheduleTime:"1000"},init:function(n,t,e,i){const o=$.extend(this.props,i),a=$$.ui.waitDialog("Generating...");$$.viewController(n,{data:{settings:o},events:{onChangePwd:async function(){const n=await $$.ui.showPrompt({title:"Change Password",label:"New Password:"});if(console.log("newPwd",n),null!=n)try{await t.changePwd(n),$$.ui.showAlert({title:"Change Password",content:"Password has been changed"})}catch(n){$$.ui.showAlert({title:"Error",content:n.responseText})}},onGenerateMusicDb:async function(){a.show(),await e.generateDb(),a.hide()},onApply:async function(n){n.preventDefault();const e=$(this).getFormData();console.log("data",e),await t.setUserSettings(e)}}})}});