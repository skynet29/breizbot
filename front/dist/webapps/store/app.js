$$.control.registerControl("infoPage",{template:'<div class="titleBar">\n    <h3 bn-text="title"></h3>\n\n    <span bn-attr="{class: getColorClass}" bn-show="iconCls">\n        <i bn-attr="{class: iconCls}"></i>\n    </span>\n\n    <div bn-show="iconUrl" class="title">\n        <img bn-attr="{src: getIconUrl}" class="w3-round-large">\n    </div>\n</div>\n<h3>Description</h3>\n<p class="w3-padding" bn-html="description"></p>\n',props:{info:{}},init:function(n){const{info:t}=this.props,{appName:o,props:e}=t;let{description:i,title:a,iconCls:s,colorCls:r,iconUrl:p}=e;i=(i=i||"No description").split(";").join("<br>");$$.viewController(n,{data:{btnText:function(){return t.activated?"Remove from Home page":"Add to Home page"},description:i,title:a,iconCls:s,iconUrl:p,getColorClass:function(){return`tile w3-round-large ${r}`},getIconUrl:function(){return`/webapps/${o}/assets/${p}`}}})}}),$$.control.registerControl("rootPage",{deps:["breizbot.apps","breizbot.pager","breizbot.users","breizbot.scheduler"],template:'<div bn-control="breizbot.apps" \n\tbn-data="{apps, showActivated: true, items: getItems}" \n\tbn-event="appclick: onAppClick, appcontextmenu: onTileContextMenu"\n\tstyle="height: 100%">\n\t\t\n\t</div>',init:function(n,t,o,e,i){const a=$$.viewController(n,{data:{apps:[],getItems:function(){return function(n){const t={info:{name:"Information",icon:"fas fa-info-circle"}};return n.activated||(t.add={name:"Add to Home page",icon:"fas fa-plus"}),t}}},events:{onAppClick:function(n,t){i.openApp(t.appName)},onTileContextMenu:async function(n,t){"info"==t.cmd&&o.pushPage("infoPage",{title:"App Information",props:{info:t}}),"add"==t.cmd&&(await e.activateApp(t.appName,!0),s())}}});async function s(){const n=await t.listAll();a.setData({apps:n})}s(),this.onAppResume=function(){s()}}});