$$.control.registerControl("rootPage",{deps:["breizbot.apps","breizbot.users"],template:'<div bn-control="breizbot.apps" \n\tbn-data="{apps, showActivated: true}" \n\tbn-event="appclick: onAppClick"\n\tbn-iface="apps"\n\tstyle="height: 100%">\n\t\t\n\t</div>',init:function(t,a,e){const p=$$.viewController(t,{data:{apps:[]},events:{onAppClick:function(t,a){console.log("onAppClick",a),$$.ui.showConfirm({title:a.props.title,content:`<h3>Description</h3><p>${a.props.description||""}</p>`,width:"auto",okText:a.activated?"Remove from Home page":"Add to Home page"},async function(){await e.activateApp(a.appName,!a.activated),a.activated=!a.activated,p.model.apps.find(t=>t.appName==a.appName).activated=a.activated,p.update()})}}});!async function(){const t=await a.listAll();console.log("apps",t),p.setData({apps:t})}()}});