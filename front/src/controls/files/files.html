<div class="toolbar" bn-show="showToolbar" bn-bind="toolbar">
	<div class="left">
		<div class="group" bn-show="!isMobileDevice">
			<button 
				class="w3-button" 
				title="New folder" 
				bn-event="click: onCreateFolder" 
				data-cmd="newFolder">
					<i class="fas fa-folder-plus"></i>
				</button>
	
			<button 
				class="w3-button" 
				title="Import file" 
				data-cmd="importFile"
				bn-event="click: onImportFile">
					<i class="fa fa-upload"></i>
				</button>

			<button 
				class="w3-button" 
				title="Reload" 
				data-cmd="reload"
				bn-event="click: onReload">
					<i class="fa fa-sync-alt"></i>
				</button>

			<span class="separator"></span>
	
	
		</div>
	
		<div class="group">
			<button class="w3-button" title="Toggle Selection" bn-event="click: onTogleSelection"><i class="fa fa-check"></i></button>
			<span class="separator"></span>
	
	
		</div>
	
		<div class="group">
			<button class="w3-button" title="Delete" bn-event="click: onDeleteFiles" bn-prop="prop1"><i class="fa fa-trash"></i></button>
	
			<button class="w3-button" title="Cut" bn-prop="prop1" bn-event="click: onCutFiles"><i class="fa fa-cut"></i></button>
	
			<button class="w3-button" title="Copy" bn-prop="prop1" bn-event="click: onCopyFiles"><i class="fa fa-copy"></i></button>
	
			<button class="w3-button" title="Share" 
				bn-prop="prop2" 
				bn-control="brainjs.contextmenu"
				bn-data="{items: getShareGroups, trigger: 'left'}"
				bn-event="contextmenuchange: onShareSelected"
			><i class="fa fa-share-alt"></i></button>
	
			<button class="w3-button" title="Paste" bn-prop="prop3" bn-event="click: onPasteFiles"><i class="fa fa-paste"></i></button>
		</div>
	
	
	</div>
	<div bn-show="isMobileDevice">
		<button class="w3-button" title="More actions" 
			bn-control="brainjs.contextmenu"
			bn-event="contextmenuchange: onToolbarContextMenu"
			bn-data="{
				trigger: 'left',
				items: {
				 	newFolder: {name: 'New folder', icon: 'fas fa-folder-plus'},
				 	importFile: {name: 'Import file', icon: 'fas fa-upload'},
				 	reload: {name: 'Reload', icon: 'fas fa-sync-alt'}
				}
			}">
			<i class="fa fa-ellipsis-v"></i></button>

	</div>
</div>

<div class="download" bn-show="hasDownloads" bn-bind="downloads">
	<strong bn-event="click: onToggleDownload"><i class="fa fa-caret-down fa-fw"></i>
			Uploads</strong>
	<div bn-each="downloads" class="downloadItems">
		<div class="w3-card w3-padding-small">
			<div bn-text="$scope.$i.fileName"></div>
			<progress max="1" bn-val="$scope.$i.percentage"></progress>
		</div>
	</div>
</div>

<div bn-text="info" bn-bind="info" class="info"></div>

<div bn-show="loading" class="loading">
	<i class="fa fa-spinner fa-pulse"></i>
	loading ...
</div>

<div class="pathPanel" bn-event="click.pathItem: onPathItem" bn-show="!loading">
	<div bn-each="getPath" bn-index="idx">
		<i class="fa fa-chevron-right" bn-show="!isFirst"></i>
		<span>
			<a class="pathItem" bn-text="$scope.$i" href="#" bn-show="!isLast" bn-data="{info: getPathInfo}"></a>
			<span bn-text="$scope.$i" bn-show="isLast" class="lastItem"></span>

		</span>
	</div>


</div>


<div class="scrollPanel">

	<div bn-each="getFiles" bn-iter="f" bn-lazzy="10" bn-bind="files" class="container"
		bn-event="click.folder: onFolderClick, click.check: onCheckClick, click.file: onFileClick, contextmenuchange.thumbnail: onContextMenu">

		<div class="thumbnail w3-card-2" bn-control="brainjs.contextmenu" bn-data="{items: getItems}">

			<span bn-if="if1">
				<input type="checkbox" bn-show="showToolbar" class="check w3-check">
			</span>
			<div bn-if="$scope.f.folder" class="folder item">
				<div class="icon">
					<i class="fa fa-4x fa-folder-open w3-text-blue-grey"></i>
				</div>

				<div class="info">
					<strong bn-text="$scope.f.name"></strong>
					<span bn-text="getDate" bn-if="if1"></span>
				</div>
			</div>
			<div bn-if="if2" class="file item">
				<div class="icon">
					<i bn-attr="{class: class1}"></i>
				</div>

				<div class="info">
					<strong bn-text="$scope.f.name"></strong>
					<span bn-text="getDate"></span>
					<span bn-text="getSize"></span>
				</div>
			</div>

			<div bn-if="isMP3" class="file item">
				<div class="icon">
					<i bn-attr="{class: class1}"></i>
				</div>

				<div class="info">
					<div>Title:&nbsp;<strong bn-text="$scope.f.mp3.title"></strong></div>

					<div>Artist:&nbsp;<strong bn-text="$scope.f.mp3.artist"></strong></div>
					<div bn-show="hasGenre">Genre:&nbsp;<strong bn-text="$scope.f.mp3.genre"></strong></div>
					<div bn-show="hasYear"> Year:&nbsp;<strong bn-text="getYear"></strong></div>
					<span bn-text="getSize"></span>
				</div>
			</div>

			<div bn-if="if3" class="file item">
				<div class="icon">
					<img bn-attr="{src: getThumbnailUrl}">
				</div>

				<div class="info">
					<strong bn-text="$scope.f.name"></strong>
					<span bn-text="getDate"></span>
					<span bn-text="getSize"></span>
					<span bn-text="getDimension"></span>
				</div>
			</div>

		</div>
	</div>


</div>